.woocommerce a.button {
	@extend .btn;
	@extend .btn-primary;
}

.woocommerce-notices-wrapper {
	.woocommerce-message,
	.woocommerce-info,
	.woocommerce-error {
		align-items: center;
		background: $light;
		border: 1px solid rgba($dark, 0.1);
		border-left: 4px solid $primary;
		border-radius: 12px;
		box-shadow: 0 8px 20px rgba($dark, 0.06);
		color: $dark;
		display: flex;
		flex-wrap: wrap;
		gap: 0.8rem;
		list-style: none;
		margin: 0 0 1.25rem;
		padding: 0.9rem 1rem;

		&::before {
			color: $success;
			font-size: 1.1rem;
			margin-right: 0.2rem;
			position: static;
		}

		a {
			color: $primary;
			font-weight: 600;
		}

		a.button,
		.button {
			background: $primary;
			border: $btn-border-width solid $primary;
			border-radius: 3px;
			color: $light;
			font-size: $btn-font-size;
			font-weight: 600;
			line-height: $btn-line-height;
			margin-left: auto;
			padding: $btn-padding-y $btn-padding-x;
			text-decoration: none;
			transition: background-color 0.15s ease, border-color 0.15s ease, transform 0.15s ease;

			&:hover,
			&:focus {
				background: darken($primary, 8%);
				border-color: darken($primary, 10%);
				color: $light;
				transform: translateY(-1px);
			}
		}
	}

	.woocommerce-error {
		border-left-color: $danger;

		&::before {
			color: $danger;
		}
	}

	.woocommerce-info {
		border-left-color: $info;

		&::before {
			color: $info;
		}
	}
}

.woocommerce-checkout {
	#payment #place_order,
	#payment .place-order .button,
	.woocommerce-checkout-payment #place_order {
		background: $primary;
		border: $btn-border-width solid $primary;
		border-radius: 3px;
		color: $light;
		display: inline-flex;
		font-size: $btn-font-size;
		font-weight: 600;
		justify-content: center;
		line-height: $btn-line-height;
		padding: $btn-padding-y $btn-padding-x;
		text-decoration: none;
		transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease, transform 0.15s ease;
		width: auto;

		&:hover,
		&:focus {
			background: darken($primary, 8%);
			border-color: darken($primary, 10%);
			color: $light;
			transform: translateY(-1px);
		}

		&:disabled,
		&[disabled],
		&.disabled {
			background: rgba($secondary, 0.4);
			border-color: rgba($secondary, 0.4);
			color: rgba($dark, 0.7);
			cursor: not-allowed;
			transform: none;
		}
	}
}

.woo-single-product {
	.single-product-details {
		.entry-images,
		.summary.entry-summary {
			float: none !important;
			margin: 0;
			width: 100% !important;
		}
	}

	.single-product-card {
		background: $greylight;
		border: 1px solid rgba($dark, 0.08);
		border-radius: 20px;
		padding: clamp(20px, 2.5vw, 36px);
	}

	.entry-images {
		.woocommerce-product-gallery {
			background: $light;
			border-radius: 16px;
			float: none;
			margin: 0;
			max-width: none;
			padding: 12px;
			width: 100% !important;
			box-shadow: 0 12px 30px rgba($dark, 0.08);
		}

		.woocommerce-product-gallery__image img,
		.woocommerce-product-gallery__wrapper img {
			display: block;
			width: 100%;
		}

		.woocommerce-product-gallery__wrapper {
			border-radius: 10px;
			overflow: hidden;
		}

		.flex-control-thumbs {
			display: grid;
			grid-template-columns: repeat(4, minmax(0, 1fr));
			gap: 10px;
			list-style: none;
			margin: 12px 0 0;
			padding: 0;

			li {
				margin: 0;
			}

			img {
				border: 2px solid transparent;
				border-radius: 10px;
				cursor: pointer;
				transition: border-color 0.2s ease, transform 0.2s ease;

				&:hover,
				&.flex-active {
					border-color: $primary;
					transform: translateY(-1px);
				}
			}
		}
	}

	.summary.entry-summary {
		align-items: flex-start;
		display: flex;
		flex-direction: column;
		gap: 0.5rem;

		> *:first-child {
			margin-top: 0;
		}

		.product_title {
			margin-top: 0;
			margin-bottom: 0.75rem;
		}

		.price {
			color: $primary;
			font-family: $font-family-alt;
			font-size: clamp(1.8rem, 2.5vw, 2.4rem);
			font-weight: 700;
			line-height: 1;
			margin: 0 0 0.5rem;
		}

		.woocommerce-product-details__short-description {
			color: rgba($dark, 0.85);
			margin-bottom: 1.25rem;
		}

		.cart {
			align-items: center;
			background: $light;
			border: 1px solid rgba($dark, 0.1);
			border-radius: 16px;
			display: flex;
			flex-wrap: wrap;
			gap: 0.75rem;
			margin: 0.75rem 0 0.5rem;
			padding: 0.9rem;
		}

		.quantity .qty {
			border: 2px solid rgba($dark, 0.2);
			border-radius: 12px;
			font-weight: 600;
			height: 48px;
			min-width: 96px;
			padding: 0 14px;
		}

		.single_add_to_cart_button.button {
			background-color: $primary;
			border: 2px solid $primary;
			border-radius: 12px;
			color: $light;
			display: inline-flex;
			font-size: $btn-font-size;
			font-weight: 600;
			justify-content: center;
			line-height: $btn-line-height;
			padding: $btn-padding-y $btn-padding-x;
			text-decoration: none;
			transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease, transform 0.15s ease;
			width: auto;

			&:hover,
			&:focus {
				background-color: darken($primary, 8%);
				border-color: darken($primary, 10%);
				color: $light;
				transform: translateY(-1px);
			}
		}

		.stock {
			border-radius: 999px;
			display: inline-flex;
			font-size: 0.875rem;
			font-weight: 600;
			padding: 0.3rem 0.7rem;
			width: auto;
		}

		.stock.in-stock {
			background: rgba($success, 0.16);
			color: darken($success, 18%);
		}

		.stock.out-of-stock {
			background: rgba($danger, 0.14);
			color: $danger;
		}

		.product_meta {
			border-top: 1px solid rgba($dark, 0.12);
			color: rgba($dark, 0.75);
			display: grid;
			font-size: 0.95rem;
			gap: 0.4rem;
			margin-top: 1.5rem;
			padding-top: 1rem;

			a {
				color: $primary;
				text-decoration: none;

				&:hover {
					color: darken($primary, 10%);
				}
			}
		}
	}

	.woocommerce-product-gallery__trigger {
		background: rgba($dark, 0.65);
		color: $light;
	}

	.single-product-extra {
		margin-top: 2rem;
	}

	

	#reviews,
	.woocommerce-Reviews {
		h2,
		h3 {
			margin-top: 0;
			margin-bottom: 1rem;
		}

		.woocommerce-noreviews,
		.woocommerce-Reviews-title {
			color: rgba($dark, 0.85);
		}

		.comment-reply-title {
			display: block;
			font-size: clamp(1.5rem, 2vw, 2rem);
			font-weight: 700;
			line-height: 1.1;
			margin-bottom: 0.75rem;
		}

		.comment-form {
			display: grid;
			gap: 0.9rem;
			grid-template-columns: minmax(0, 1fr);
			margin-top: 1rem;
		}

		.comment-form-rating,
		.comment-notes,
		.comment-form-comment,
		.comment-form-url,
		.comment-form-cookies-consent,
		.form-submit {
			grid-column: 1 / -1;
		}

		.comment-form-rating {
			.stars {
				display: inline-flex;
				gap: 0.35rem;
				margin: 0;

				a {
					color: rgba($dark, 0.3);
					font-size: 1.6rem;
					line-height: 1;
					text-decoration: none;
					transition: color 0.15s ease, transform 0.15s ease;

					&:hover,
					&.active {
						color: $warning;
						transform: translateY(-1px);
					}
				}
			}
		}

		label {
			color: $dark;
			display: block;
			font-weight: 600;
			margin-bottom: 0.5rem;
		}

		input[type='text'],
		input[type='email'],
		input[type='url'],
		textarea {
			appearance: none;
			background-clip: padding-box;
			background-color: $input-bg;
			border: $input-border-width solid $input-border-color;
			border-radius: $input-border-radius;
			color: $input-color;
			display: block;
			font-size: $input-font-size;
			font-weight: $input-font-weight;
			line-height: $input-line-height;
			padding: $input-padding-y $input-padding-x;
			transition: $input-transition;
			width: 100%;

			&:focus {
				background-color: $input-focus-bg;
				border-color: $input-focus-border-color;
				box-shadow: $input-focus-box-shadow;
				color: $input-focus-color;
				outline: 0;
			}
		}

		textarea {
			min-height: 140px;
			resize: vertical;
		}

		.comment-form-author,
		.comment-form-email {
			margin: 0;
		}

		.comment-form-url {
			max-width: 640px;
		}

		.comment-form-cookies-consent {
			align-items: center;
			display: flex;
			gap: 0.65rem;
			margin-top: 0.25rem;

			input[type='checkbox'] {
				appearance: none;
				background-color: $form-check-input-bg;
				background-position: center;
				background-repeat: no-repeat;
				background-size: contain;
				border: $form-check-input-border;
				border-radius: $form-check-input-border-radius;
				flex: 0 0 auto;
				height: $form-check-input-width;
				margin: 0;
				width: $form-check-input-width;

				&:focus {
					border-color: $input-focus-border-color;
					box-shadow: $input-focus-box-shadow;
					outline: 0;
				}

				&:checked {
					background-color: $form-check-input-checked-bg-color;
					border-color: $form-check-input-checked-border-color;
				}
			}

			label {
				font-weight: 400;
				margin: 0;
			}
		}

		.form-submit {
			margin-top: 0.25rem;
		}

		.form-submit .submit,
		.form-submit input[type='submit'],
		.form-submit button[type='submit'] {
			background: $primary;
			border: $btn-border-width solid $primary;
			border-radius: 3px;
			color: $light;
			font-size: $btn-font-size;
			font-weight: 600;
			line-height: $btn-line-height;
			padding: $btn-padding-y $btn-padding-x;
			text-decoration: none;
			transition: background-color 0.15s ease, border-color 0.15s ease, transform 0.15s ease;

			&:hover,
			&:focus {
				background: darken($primary, 8%);
				border-color: darken($primary, 10%);
				color: $light;
				transform: translateY(-1px);
			}
		}
	}

	.woocommerce-tabs ul.tabs {
		&:before {
			border: 0;
		}

		li {
			&:before,
			&:after {
				display: none;
			}
		}
	}

	.related-products {
		.entry {
			background: $light;
			border: 1px solid rgba($dark, 0.08);
			border-radius: 16px;
			box-shadow: 0 12px 24px rgba($dark, 0.06);
			height: 100%;
			padding: 1rem;
			transition: transform 0.2s ease, box-shadow 0.2s ease;

			&:hover {
				box-shadow: 0 18px 36px rgba($dark, 0.12);
				transform: translateY(-2px);
			}
		}

		.media {
			display: flex;
			flex-direction: column;
			gap: 0.8rem;
			height: 100%;
		}

		.media-content {
			display: flex;
			flex: 1;
			flex-direction: column;
			gap: 0.5rem;
		}

		.entry-title {
			font-size: 1.25rem;
			margin-bottom: 0;
		}

		.price {
			color: $primary;
			font-family: $font-family-alt;
			font-size: 1.6rem;
			font-weight: 700;
			line-height: 1;
			margin: 0;
		}

		.stock {
			font-size: 0.9rem;
			margin: 0;
		}

		.add_to_cart_button,
		.added_to_cart {
			align-items: center;
			border: 2px solid $primary;
			border-radius: $btn-border-radius;
			color: $primary;
			display: inline-flex;
			font-weight: 600;
			margin-top: auto;
			padding: 0.35rem 1rem;
			text-decoration: none;
			transition: all 0.15s ease;
		}

		.add_to_cart_button:hover,
		.added_to_cart:hover {
			background: $primary;
			color: $light;
		}
	}
}

@include media-breakpoint-up(md) {
	.woo-single-product {
		#reviews,
		.woocommerce-Reviews {
			.comment-form {
				column-gap: 1rem;
				grid-template-columns: repeat(2, minmax(0, 1fr));
			}

			.comment-form-author,
			.comment-form-email {
				grid-column: span 1;
			}
		}
	}
}

@include media-breakpoint-down(lg) {
	.woo-single-product {
		.single-product-card {
			padding: 18px;
		}

		.summary.entry-summary .cart {
			align-items: stretch;
			flex-direction: column;
		}

		.summary.entry-summary .single_add_to_cart_button.button {
			width: 100%;
		}

		.entry-images .flex-control-thumbs {
			grid-template-columns: repeat(3, minmax(0, 1fr));
		}
	}
}
