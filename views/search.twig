{% extends "index.twig" %}

{% block content %}
<section class="bg-greylight">
    <div class="container">
        <form data-filter-form data-post-type="{{ post_type }}">
            <input type="hidden" name="posts_per_page" value="{{ posts_per_page }}">
            {% for pt in allowed_post_types %}
            <input type="hidden" name="post_types[]" value="{{ pt }}">
            {% endfor %}

            <div class="row mb-5">
                <div class="col-md-4 d-flex align-items-center">
                    <a href="{{ site.link }}">Home </a> / Zoek
                </div>
                <div class="col-md-8 d-flex align-items-center">
                    {% if total is defined %}
                    <p id="result-count" class="m-0" data-result-count>{{ total }} resultaten gevonden</p>
                    {% endif %}
                </div>
            </div>

            <div class="row mb-4">
                <div class="col">
                    <h4 class="m-0">{{ title }}</h4>
                </div>
            </div>

            <input type="text" name="s" class="form-control mb-4" placeholder="Zoek op trefwoord..." value="{{ search_query|e }}">

            {{ filter(filters.post_type, {
                show_field_label: true,
                layout: 'horizontal',
                placeholder: 'Alle'
            }) }}

            <div class="position-relative">
                <div id="filter-loader" data-filter-loader class="filter-overlay d-none">
                    <div class="spinner-border text-secondary" role="status" aria-hidden="true"></div>
                </div>
                <div id="filter-results">
                    {% set max_pages = max_num_pages %}
                    {% include 'partials/list.twig' %}
                </div>

                {% if current_page < max_num_pages %}
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-outline-dark" data-load-more>Laad meer</button>
                </div>
                {% endif %}
            </div>
        </form>
    </div>
</section>
{% endblock %}

